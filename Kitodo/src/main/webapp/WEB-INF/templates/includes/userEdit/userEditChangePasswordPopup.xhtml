<!--
  * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
  *
  * This file is part of the Kitodo project.
  *
  * It is licensed under GNU General Public License version 3 or later.
  *
  * For the full copyright and license information, please read the
  * GPL3-License.txt file that was distributed with this source code.
  -->

<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <f:view locale="#{SpracheForm.locale}">
        <h:body>
            <!-- edit dialog -->
            <p:dialog widgetVar="changePasswordDialog"
                      id="changePasswordDialog"
                      header="#{msgs.passwordChange}"
                      width="400px"
                      modal="true"
                      dynamic="true">
                <h:form id="changePasswordForm">
                    <p:panelGrid id="passwordGrid" columns="1" layout="grid">
                        <p:row>
                            <div>
                                <!-- new password -->
                                <h:outputLabel for="newPassword" value="#{msgs.newPassword}"/>
                                <p:password redisplay="true" id="newPassword" class="password"
                                            value="#{UserForm.password}" label="#{msgs.newPassword}"
                                            match="newPasswordRepeat" required="true"
                                            validatorMessage="#{msgs.passwordsDontMatch}"/>
                            </div>

                            <div>
                                <!-- repeat new password -->
                                <h:outputLabel for="newPasswordRepeat" value="#{msgs.confirmNewPassword}"/>
                                <p:password redisplay="true" id="newPasswordRepeat" class="password"
                                            value="#{UserForm.password}" label="#{msgs.confirmNewPassword}"
                                            required="true"/>
                            </div>
                            <div>
                                <p:commandButton id="save"
                                                 value="#{msgs.save}"
                                                 action="#{UserForm.changePasswordForCurrentUser}"
                                                 icon="fa fa-floppy-o fa-lg"
                                                 iconPos="right"
                                                 validateClient="true"
                                                 styleClass="button-filled-blue"
                                                 oncomplete="PF('changePasswordDialog').hide();">
                                </p:commandButton>
                            </div>
                        </p:row>
                    </p:panelGrid>
                </h:form>
            </p:dialog>
        </h:body>
    </f:view>
</ui:composition>
